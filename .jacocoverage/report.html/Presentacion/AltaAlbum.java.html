<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>AltaAlbum.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;Tarea1&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">Presentacion</a> &gt; <span class="el_source">AltaAlbum.java</span></div><h1>AltaAlbum.java</h1><pre class="source lang-java linenums">package Presentacion;

import Logica.DtGenero;
import Logica.DtTema;
import Logica.DtTemaLocal;
import Logica.DtTemaRemoto;
import Logica.DtTime;
import Logica.DtUsuario;
import Logica.Fabrica;
import Logica.IContenido;
import Logica.IUsuario;
import java.awt.Color;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.URI;
import java.net.URL;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.DefaultListModel;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.JSpinner;
import javax.swing.SpinnerDateModel;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.table.DefaultTableModel;
import javax.swing.tree.DefaultMutableTreeNode;
import javax.swing.tree.DefaultTreeModel;
import javax.swing.tree.TreeSelectionModel;

public class AltaAlbum extends javax.swing.JInternalFrame {

    private IContenido iContenido;
    private IUsuario iUsuario;
    ArrayList&lt;String&gt; generos;
    DefaultListModel&lt;String&gt; model;
    private final JFileChooser archivoTema;
    private final JFileChooser archivoImg;
    ArrayList&lt;DtTema&gt; temas;
    String pathMp3;
    String nameMp3;
    String pathImage;
    String nameImage;
    DefaultTableModel dtm;
    private ArrayList&lt;DtUsuario&gt; datos;
    PanelImagen pImg;
    PropertyManager pm;

<span class="nc" id="L58">    public AltaAlbum() {</span>
<span class="nc" id="L59">        initComponents();</span>
<span class="nc" id="L60">        archivoTema = new JFileChooser();</span>
<span class="nc" id="L61">        archivoTema.setFileFilter(new FileNameExtensionFilter(&quot;mp3 files&quot;, &quot;mp3&quot;));</span>
<span class="nc" id="L62">        archivoImg = new JFileChooser();</span>
<span class="nc" id="L63">        archivoImg.setFileFilter(new FileNameExtensionFilter(&quot;Images files&quot;, &quot;jpg&quot;, &quot;png&quot;, &quot;gif&quot;, &quot;jpeg&quot;));</span>
<span class="nc" id="L64">        this.iContenido = Fabrica.getIControladorContenido();</span>
<span class="nc" id="L65">        this.iUsuario = Fabrica.getIControladorUsuario();</span>
<span class="nc" id="L66">        temas = new ArrayList&lt;DtTema&gt;();</span>
<span class="nc" id="L67">        mostrarGeneros();</span>
        //jScrollPane2.setViewportView(ListaGeneros);
<span class="nc" id="L69">        buttonStream.setSelected(true);</span>
<span class="nc" id="L70">        mostrarTema();</span>
<span class="nc" id="L71">        dtm = (DefaultTableModel) tableTemas.getModel();</span>
<span class="nc" id="L72">        tableTemas.setModel(dtm);</span>
<span class="nc" id="L73">        dtm.setRowCount(0);</span>
<span class="nc" id="L74">        pathMp3 = &quot;&quot;;</span>
<span class="nc" id="L75">        nameMp3 = &quot;&quot;;</span>
<span class="nc" id="L76">        pathImage = null;</span>
<span class="nc" id="L77">        nameImage = null;</span>
<span class="nc" id="L78">        datos = iUsuario.listarArtistas();</span>
<span class="nc" id="L79">        cargarDatos(datos, &quot;&quot;);</span>
<span class="nc" id="L80">        pm = PropertyManager.getInstance();</span>
<span class="nc" id="L81">        cargarImagen(pm.getProperty(&quot;pathImagenesAlbum&quot;) + &quot;albumDefault.png&quot;);</span>

<span class="nc" id="L83">    }</span>

    private DefaultMutableTreeNode getNodo(DtGenero g) {
<span class="nc" id="L86">        DefaultMutableTreeNode padre = new DefaultMutableTreeNode(g.getNombre());</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">        for (DtGenero dtg : g.getSubGeneros()) {</span>
<span class="nc" id="L88">            DefaultMutableTreeNode hijo = getNodo(dtg);</span>
<span class="nc" id="L89">            padre.add(hijo);</span>
<span class="nc" id="L90">        }</span>
<span class="nc" id="L91">        return padre;</span>
    }

    private boolean exiteNombreTema(String nombreTema) {

<span class="nc" id="L96">        boolean retorno = false;</span>
<span class="nc bnc" id="L97" title="All 2 branches missed.">        if (!this.temas.isEmpty()) {</span>
<span class="nc bnc" id="L98" title="All 2 branches missed.">            for (int i = 0; i &lt; temas.size(); i++) {</span>
<span class="nc" id="L99">                DtTema dtT = (DtTema) temas.get(i);</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">                if (dtT.getNombre().equals(nombreTema)) {</span>
<span class="nc" id="L101">                    retorno = true;</span>
                }
            }
        }

<span class="nc" id="L106">        return retorno;</span>

    }

    void mostrarGeneros() {

<span class="nc" id="L112">        jTreeGeneros.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);</span>
<span class="nc" id="L113">        DtGenero g = iContenido.listarGenero();</span>

<span class="nc" id="L115">        DefaultTreeModel modelo = new DefaultTreeModel(getNodo(g));</span>
<span class="nc" id="L116">        jTreeGeneros.setModel(modelo);</span>

<span class="nc" id="L118">        model = new DefaultListModel&lt;&gt;();</span>
<span class="nc" id="L119">        jListGros.setModel(model);</span>
<span class="nc" id="L120">        generos = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L121">    }</span>

    private void cargarDatos(ArrayList&lt;DtUsuario&gt; dtu, String filtro) {
<span class="nc bnc" id="L124" title="All 2 branches missed.">        if (dtu.isEmpty()) {</span>
<span class="nc" id="L125">            JOptionPane.showMessageDialog(this, &quot;No hay ningun cliente registrado&quot;);</span>
        }

<span class="nc" id="L128">        DefaultTableModel dtm = (DefaultTableModel) tablaArtistas.getModel();</span>
<span class="nc" id="L129">        dtm.setRowCount(0);</span>
<span class="nc bnc" id="L130" title="All 2 branches missed.">        for (DtUsuario dtUsuario : dtu) {</span>
<span class="nc bnc" id="L131" title="All 2 branches missed.">            if (dtUsuario.getNickname().contains(filtro)) {</span>
<span class="nc" id="L132">                Object[] data = {</span>
<span class="nc" id="L133">                    dtUsuario.getNickname(),</span>
<span class="nc" id="L134">                    dtUsuario.getNombre(),</span>
<span class="nc" id="L135">                    dtUsuario.getApellido(),</span>
<span class="nc" id="L136">                    dtUsuario.getEmail(),</span>
<span class="nc" id="L137">                    dtUsuario.getFechaNac().toString()</span>
                };
<span class="nc" id="L139">                dtm.addRow(data);</span>
            }
<span class="nc" id="L141">        }</span>
<span class="nc" id="L142">    }</span>

    void mostrarTema() {
<span class="nc bnc" id="L145" title="All 2 branches missed.">        if (buttonStream.isSelected()) {</span>
<span class="nc" id="L146">            txtStremTema.setEnabled(true);</span>
<span class="nc" id="L147">            btnSelecMp3.setEnabled(false);</span>

<span class="nc bnc" id="L149" title="All 2 branches missed.">        } else if (buttonArch.isSelected()) {</span>
<span class="nc" id="L150">            txtStremTema.setEnabled(false);</span>
<span class="nc" id="L151">            btnSelecMp3.setEnabled(true);</span>
        }

<span class="nc" id="L154">    }</span>

    private void setUbicacionTemas() {

<span class="nc bnc" id="L158" title="All 2 branches missed.">        for (int i = 0; i &lt; tableTemas.getRowCount(); i++) {</span>
<span class="nc" id="L159">            String nom = tableTemas.getValueAt(i, 0).toString();</span>
<span class="nc" id="L160">            int ubicacion = Integer.parseInt(tableTemas.getValueAt(i, 1).toString());</span>
<span class="nc bnc" id="L161" title="All 2 branches missed.">            for (int e = 0; e &lt; temas.size(); e++) {</span>
<span class="nc" id="L162">                DtTema dtT = (DtTema) temas.get(e);</span>
<span class="nc bnc" id="L163" title="All 2 branches missed.">                if (dtT.getNombre().equals(nom)) {</span>
<span class="nc" id="L164">                    dtT.setUbicacion(ubicacion);</span>
                }
            }
        }

<span class="nc" id="L169">    }</span>

    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L175">        btonGroupTema = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L176">        AlbumTx = new javax.swing.JLabel();</span>
<span class="nc" id="L177">        jLabel2 = new javax.swing.JLabel();</span>
<span class="nc" id="L178">        txtNombreAlbum = new javax.swing.JTextField();</span>
<span class="nc" id="L179">        txtNick = new javax.swing.JTextField();</span>
<span class="nc" id="L180">        NombreTx = new javax.swing.JLabel();</span>
<span class="nc" id="L181">        comboAnio = new javax.swing.JComboBox&lt;&gt;();</span>
<span class="nc" id="L182">        jPanel1 = new javax.swing.JPanel();</span>
<span class="nc" id="L183">        jScrollPane1 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L184">        jTreeGeneros = new javax.swing.JTree();</span>
<span class="nc" id="L185">        jScrollPane2 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L186">        jListGros = new javax.swing.JList&lt;&gt;();</span>
<span class="nc" id="L187">        jbtnAgregarGro = new javax.swing.JButton();</span>
<span class="nc" id="L188">        btnQuitarGro = new javax.swing.JButton();</span>
<span class="nc" id="L189">        jButton2 = new javax.swing.JButton();</span>
<span class="nc" id="L190">        jButton1 = new javax.swing.JButton();</span>
<span class="nc" id="L191">        jPanel2 = new javax.swing.JPanel();</span>
<span class="nc" id="L192">        jLabel1 = new javax.swing.JLabel();</span>
<span class="nc" id="L193">        txtNomTema = new javax.swing.JTextField();</span>
<span class="nc" id="L194">        jLabel3 = new javax.swing.JLabel();</span>
<span class="nc" id="L195">        buttonArch = new javax.swing.JRadioButton();</span>
<span class="nc" id="L196">        buttonStream = new javax.swing.JRadioButton();</span>
<span class="nc" id="L197">        btnAgregarTema = new javax.swing.JButton();</span>
<span class="nc" id="L198">        txtStremTema = new javax.swing.JTextField();</span>
<span class="nc" id="L199">        Date date = new Date();</span>
<span class="nc" id="L200">        SpinnerDateModel sm = new SpinnerDateModel(date, null, null, Calendar.HOUR_OF_DAY);</span>
<span class="nc" id="L201">        jSpinnerDuracion = new javax.swing.JSpinner(sm);</span>
<span class="nc" id="L202">        jScrollPane3 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L203">        tableTemas = new javax.swing.JTable();</span>
<span class="nc" id="L204">        btnSelecMp3 = new javax.swing.JButton();</span>
<span class="nc" id="L205">        btnEliminarTema = new javax.swing.JButton();</span>
<span class="nc" id="L206">        jScrollPane4 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L207">        tablaArtistas = new javax.swing.JTable();</span>
<span class="nc" id="L208">        imagePanel = new javax.swing.JPanel();</span>
<span class="nc" id="L209">        btnCargarImg = new java.awt.Button();</span>

<span class="nc" id="L211">        setClosable(true);</span>
<span class="nc" id="L212">        setIconifiable(true);</span>
<span class="nc" id="L213">        setMaximizable(true);</span>
<span class="nc" id="L214">        setTitle(&quot;Alta de album&quot;);</span>
<span class="nc" id="L215">        setFocusCycleRoot(false);</span>
<span class="nc" id="L216">        setMaximumSize(new java.awt.Dimension(214748, 214748));</span>

<span class="nc" id="L218">        AlbumTx.setText(&quot;Nombre De Album :&quot;);</span>

<span class="nc" id="L220">        jLabel2.setText(&quot;Año :&quot;);</span>

<span class="nc" id="L222">        txtNick.addCaretListener(new javax.swing.event.CaretListener() {</span>
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
<span class="nc" id="L224">                txtNickCaretUpdate(evt);</span>
<span class="nc" id="L225">            }</span>
        });

<span class="nc" id="L228">        NombreTx.setText(&quot;Nick De Artista :&quot;);</span>

<span class="nc" id="L230">        comboAnio.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;----&quot;, &quot;2017&quot;, &quot;2016&quot;, &quot;2015&quot;, &quot;2014&quot;, &quot;2013&quot;, &quot;2012&quot;, &quot;2011&quot;, &quot;2010&quot;, &quot;2009&quot;, &quot;2008&quot;, &quot;2007&quot;, &quot;2006&quot;, &quot;2005&quot;, &quot;2004&quot;, &quot;2003&quot;, &quot;2002&quot;, &quot;2001&quot;, &quot;2000&quot;, &quot;1999&quot;, &quot;1998&quot;, &quot;1997&quot;, &quot;1996&quot;, &quot;1995&quot;, &quot;1994&quot;, &quot;1993&quot;, &quot;1992&quot;, &quot;1991&quot;, &quot;1990&quot;, &quot;1989&quot;, &quot;1988&quot;, &quot;1987&quot;, &quot;1986&quot;, &quot;1985&quot;, &quot;1984&quot;, &quot;1983&quot;, &quot;1982&quot;, &quot;1981&quot;, &quot;1980&quot;, &quot;1979&quot;, &quot;1978&quot;, &quot;1977&quot;, &quot;1976&quot;, &quot;1975&quot;, &quot;1974&quot;, &quot;1973&quot;, &quot;1972&quot;, &quot;1971&quot;, &quot;1970&quot;, &quot;1969&quot;, &quot;1968&quot;, &quot;1967&quot;, &quot;1966&quot;, &quot;1965&quot;, &quot;1964&quot;, &quot;1963&quot;, &quot;1962&quot;, &quot;1961&quot;, &quot;1960&quot;, &quot;1959&quot;, &quot;1958&quot;, &quot;1957&quot;, &quot;1956&quot;, &quot;1955&quot;, &quot;1954&quot;, &quot;1953&quot;, &quot;1952&quot;, &quot;1951&quot;, &quot;1950&quot;, &quot;1950&quot;, &quot;1949&quot;, &quot;1948&quot;, &quot;1947&quot;, &quot;1946&quot;, &quot;1945&quot;, &quot;1944&quot;, &quot;1943&quot;, &quot;1942&quot;, &quot;1941&quot;, &quot;1940&quot;, &quot;1939&quot;, &quot;1938&quot;, &quot;1937&quot;, &quot;1936&quot;, &quot;1935&quot;, &quot;1934&quot;, &quot;1933&quot;, &quot;1932&quot;, &quot;1931&quot;, &quot;1930&quot;, &quot;1929&quot;, &quot;1928&quot;, &quot;1927&quot;, &quot;1926&quot;, &quot;1925&quot;, &quot;1924&quot;, &quot;1923&quot;, &quot;1922&quot;, &quot;1921&quot;, &quot;1920&quot;, &quot;1919&quot;, &quot;1918&quot;, &quot; &quot; }));</span>

<span class="nc" id="L232">        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Generos&quot;));</span>
<span class="nc" id="L233">        jPanel1.setName(&quot;Generos&quot;); // NOI18N</span>

<span class="nc" id="L235">        jTreeGeneros.addTreeSelectionListener(new javax.swing.event.TreeSelectionListener() {</span>
            public void valueChanged(javax.swing.event.TreeSelectionEvent evt) {
<span class="nc" id="L237">                jTreeGenerosValueChanged(evt);</span>
<span class="nc" id="L238">            }</span>
        });
<span class="nc" id="L240">        jScrollPane1.setViewportView(jTreeGeneros);</span>

<span class="nc" id="L242">        jScrollPane2.setViewportView(jListGros);</span>

<span class="nc" id="L244">        jbtnAgregarGro.setText(&quot;Agregar&quot;);</span>
<span class="nc" id="L245">        jbtnAgregarGro.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L247">                jbtnAgregarGroActionPerformed(evt);</span>
<span class="nc" id="L248">            }</span>
        });

<span class="nc" id="L251">        btnQuitarGro.setText(&quot;Quitar&quot;);</span>
<span class="nc" id="L252">        btnQuitarGro.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L254">                btnQuitarGroActionPerformed(evt);</span>
<span class="nc" id="L255">            }</span>
        });

<span class="nc" id="L258">        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);</span>
<span class="nc" id="L259">        jPanel1.setLayout(jPanel1Layout);</span>
<span class="nc" id="L260">        jPanel1Layout.setHorizontalGroup(</span>
<span class="nc" id="L261">            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L262">            .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L263">                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 181, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L264">                .addGap(42, 42, 42)</span>
<span class="nc" id="L265">                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 301, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L266">                .addGap(0, 0, Short.MAX_VALUE))</span>
<span class="nc" id="L267">            .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L268">                .addGap(45, 45, 45)</span>
<span class="nc" id="L269">                .addComponent(jbtnAgregarGro)</span>
<span class="nc" id="L270">                .addGap(121, 121, 121)</span>
<span class="nc" id="L271">                .addComponent(btnQuitarGro)</span>
<span class="nc" id="L272">                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))</span>
        );
<span class="nc" id="L274">        jPanel1Layout.setVerticalGroup(</span>
<span class="nc" id="L275">            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L276">            .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L277">                .addContainerGap()</span>
<span class="nc" id="L278">                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L279">                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)</span>
<span class="nc" id="L280">                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 182, Short.MAX_VALUE))</span>
<span class="nc" id="L281">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L282">                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L283">                    .addComponent(btnQuitarGro)</span>
<span class="nc" id="L284">                    .addComponent(jbtnAgregarGro)))</span>
        );

<span class="nc" id="L287">        jButton2.setText(&quot;Cancelar&quot;);</span>
<span class="nc" id="L288">        jButton2.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L290">                jButton2MouseClicked(evt);</span>
<span class="nc" id="L291">            }</span>
        });

<span class="nc" id="L294">        jButton1.setText(&quot;Guardar Album&quot;);</span>
<span class="nc" id="L295">        jButton1.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L297">                jButton1ActionPerformed(evt);</span>
<span class="nc" id="L298">            }</span>
        });

<span class="nc" id="L301">        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Temas&quot;));</span>

<span class="nc" id="L303">        jLabel1.setText(&quot;Nombre:&quot;);</span>

<span class="nc" id="L305">        jLabel3.setText(&quot;Duracion:&quot;);</span>

<span class="nc" id="L307">        btonGroupTema.add(buttonArch);</span>
<span class="nc" id="L308">        buttonArch.setText(&quot;Archivo&quot;);</span>
<span class="nc" id="L309">        buttonArch.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L311">                buttonArchActionPerformed(evt);</span>
<span class="nc" id="L312">            }</span>
        });

<span class="nc" id="L315">        btonGroupTema.add(buttonStream);</span>
<span class="nc" id="L316">        buttonStream.setText(&quot;Stream&quot;);</span>
<span class="nc" id="L317">        buttonStream.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L319">                buttonStreamActionPerformed(evt);</span>
<span class="nc" id="L320">            }</span>
        });

<span class="nc" id="L323">        btnAgregarTema.setText(&quot;Agregar&quot;);</span>
<span class="nc" id="L324">        btnAgregarTema.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L326">                btnAgregarTemaActionPerformed(evt);</span>
<span class="nc" id="L327">            }</span>
        });

<span class="nc" id="L330">        JSpinner.DateEditor de = new JSpinner.DateEditor(jSpinnerDuracion, &quot;HH:mm:ss&quot;);</span>
<span class="nc" id="L331">        jSpinnerDuracion.setEditor(de);</span>
<span class="nc" id="L332">        jSpinnerDuracion.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));</span>
<span class="nc" id="L333">        jSpinnerDuracion.setFocusable(false);</span>

<span class="nc" id="L335">        tableTemas = new javax.swing.JTable(){</span>
            public boolean isCellEditable(int row, int col) {
<span class="nc bnc" id="L337" title="All 2 branches missed.">                switch (col) {</span>
                    case 1:
<span class="nc" id="L339">                    return true;</span>
                    default:
<span class="nc" id="L341">                    return false;</span>
                }
            }};
<span class="nc" id="L344">            tableTemas.setModel(new javax.swing.table.DefaultTableModel(</span>
                new Object [][] {

                },
                new String [] {
                    &quot;Nombre&quot;, &quot;Ubicacion&quot;,&quot;Duración&quot;, &quot;Path o Url&quot;
                }
            ));
<span class="nc" id="L352">            jScrollPane3.setViewportView(tableTemas);</span>

<span class="nc" id="L354">            btnSelecMp3.setText(&quot;Select .mp3..&quot;);</span>
<span class="nc" id="L355">            btnSelecMp3.addActionListener(new java.awt.event.ActionListener() {</span>
                public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L357">                    btnSelecMp3ActionPerformed(evt);</span>
<span class="nc" id="L358">                }</span>
            });

<span class="nc" id="L361">            btnEliminarTema.setText(&quot;Eliminar&quot;);</span>
<span class="nc" id="L362">            btnEliminarTema.addActionListener(new java.awt.event.ActionListener() {</span>
                public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L364">                    btnEliminarTemaActionPerformed(evt);</span>
<span class="nc" id="L365">                }</span>
            });

<span class="nc" id="L368">            javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);</span>
<span class="nc" id="L369">            jPanel2.setLayout(jPanel2Layout);</span>
<span class="nc" id="L370">            jPanel2Layout.setHorizontalGroup(</span>
<span class="nc" id="L371">                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L372">                .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L373">                    .addContainerGap()</span>
<span class="nc" id="L374">                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L375">                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L376">                            .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L377">                                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L378">                                .addGap(38, 38, 38))</span>
<span class="nc" id="L379">                            .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L380">                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L381">                            .addComponent(btnAgregarTema, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L382">                            .addComponent(btnEliminarTema, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))</span>
<span class="nc" id="L383">                    .addGap(18, 18, 18)</span>
<span class="nc" id="L384">                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L385">                        .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L386">                            .addComponent(jSpinnerDuracion, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L387">                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L388">                                .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L389">                                    .addGap(71, 71, 71)</span>
<span class="nc" id="L390">                                    .addComponent(buttonStream))</span>
<span class="nc" id="L391">                                .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L392">                                    .addGap(62, 62, 62)</span>
<span class="nc" id="L393">                                    .addComponent(txtStremTema, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)))</span>
<span class="nc" id="L394">                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L395">                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L396">                                .addComponent(buttonArch)</span>
<span class="nc" id="L397">                                .addComponent(btnSelecMp3))</span>
<span class="nc" id="L398">                            .addGap(37, 37, 37))</span>
<span class="nc" id="L399">                        .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L400">                            .addComponent(txtNomTema, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L401">                            .addGap(0, 0, Short.MAX_VALUE))</span>
<span class="nc" id="L402">                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L403">                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)</span>
<span class="nc" id="L404">                            .addContainerGap())))</span>
            );
<span class="nc" id="L406">            jPanel2Layout.setVerticalGroup(</span>
<span class="nc" id="L407">                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L408">                .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L409">                    .addGap(3, 3, 3)</span>
<span class="nc" id="L410">                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L411">                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L412">                            .addComponent(txtNomTema, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L413">                            .addComponent(buttonStream)</span>
<span class="nc" id="L414">                            .addComponent(buttonArch))</span>
<span class="nc" id="L415">                        .addComponent(jLabel1))</span>
<span class="nc" id="L416">                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L417">                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L418">                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L419">                            .addComponent(jSpinnerDuracion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L420">                            .addComponent(jLabel3))</span>
<span class="nc" id="L421">                        .addComponent(txtStremTema, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L422">                        .addComponent(btnSelecMp3))</span>
<span class="nc" id="L423">                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)</span>
<span class="nc" id="L424">                        .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L425">                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L426">                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L427">                            .addContainerGap())</span>
<span class="nc" id="L428">                        .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L429">                            .addGap(45, 45, 45)</span>
<span class="nc" id="L430">                            .addComponent(btnAgregarTema)</span>
<span class="nc" id="L431">                            .addGap(30, 30, 30)</span>
<span class="nc" id="L432">                            .addComponent(btnEliminarTema)</span>
<span class="nc" id="L433">                            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))</span>
            );

<span class="nc" id="L436">            tablaArtistas.setModel(new javax.swing.table.DefaultTableModel(</span>
                new Object [][] {
                },
                new String [] {
                    &quot;Nickname&quot;, &quot;Nombre&quot;, &quot;Apellido&quot;, &quot;Email&quot;, &quot;Fecha Nac.&quot;
                }
            ));
<span class="nc" id="L443">            jScrollPane4.setViewportView(tablaArtistas);</span>

<span class="nc" id="L445">            imagePanel.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));</span>

<span class="nc" id="L447">            javax.swing.GroupLayout imagePanelLayout = new javax.swing.GroupLayout(imagePanel);</span>
<span class="nc" id="L448">            imagePanel.setLayout(imagePanelLayout);</span>
<span class="nc" id="L449">            imagePanelLayout.setHorizontalGroup(</span>
<span class="nc" id="L450">                imagePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L451">                .addGap(0, 198, Short.MAX_VALUE)</span>
            );
<span class="nc" id="L453">            imagePanelLayout.setVerticalGroup(</span>
<span class="nc" id="L454">                imagePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L455">                .addGap(0, 180, Short.MAX_VALUE)</span>
            );

<span class="nc" id="L458">            btnCargarImg.setLabel(&quot;Cargar Imagen&quot;);</span>
<span class="nc" id="L459">            btnCargarImg.addActionListener(new java.awt.event.ActionListener() {</span>
                public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L461">                    btnCargarImgActionPerformed(evt);</span>
<span class="nc" id="L462">                }</span>
            });

<span class="nc" id="L465">            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());</span>
<span class="nc" id="L466">            getContentPane().setLayout(layout);</span>
<span class="nc" id="L467">            layout.setHorizontalGroup(</span>
<span class="nc" id="L468">                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L469">                .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L470">                    .addGap(10, 10, 10)</span>
<span class="nc" id="L471">                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L472">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L473">                            .addGap(22, 22, 22)</span>
<span class="nc" id="L474">                            .addComponent(jButton1)</span>
<span class="nc" id="L475">                            .addGap(192, 192, 192)</span>
<span class="nc" id="L476">                            .addComponent(jButton2)</span>
<span class="nc" id="L477">                            .addGap(0, 0, Short.MAX_VALUE))</span>
<span class="nc" id="L478">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L479">                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L480">                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L481">                                .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L482">                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L483">                                        .addComponent(AlbumTx)</span>
<span class="nc" id="L484">                                        .addComponent(btnCargarImg, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L485">                                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L486">                                            .addGap(10, 10, 10)</span>
<span class="nc" id="L487">                                            .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)))</span>
<span class="nc" id="L488">                                    .addGap(113, 113, 113)</span>
<span class="nc" id="L489">                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L490">                                        .addComponent(comboAnio, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L491">                                        .addComponent(txtNombreAlbum, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L492">                                        .addComponent(imagePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))</span>
<span class="nc" id="L493">                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L494">                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L495">                                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L496">                                .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L497">                                    .addComponent(NombreTx, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L498">                                    .addGap(92, 92, 92)</span>
<span class="nc" id="L499">                                    .addComponent(txtNick, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L500">                                .addComponent(jScrollPane4))))</span>
<span class="nc" id="L501">                    .addContainerGap())</span>
            );
<span class="nc" id="L503">            layout.setVerticalGroup(</span>
<span class="nc" id="L504">                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L505">                .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L506">                    .addContainerGap()</span>
<span class="nc" id="L507">                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)</span>
<span class="nc" id="L508">                        .addComponent(txtNick, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L509">                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L510">                            .addComponent(NombreTx)</span>
<span class="nc" id="L511">                            .addComponent(txtNombreAlbum, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L512">                            .addComponent(AlbumTx)))</span>
<span class="nc" id="L513">                    .addGap(18, 18, 18)</span>
<span class="nc" id="L514">                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L515">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L516">                            .addComponent(imagePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L517">                            .addGap(27, 27, 27)</span>
<span class="nc" id="L518">                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L519">                                .addComponent(comboAnio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L520">                                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)))</span>
<span class="nc" id="L521">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L522">                            .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L523">                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, 19, Short.MAX_VALUE)</span>
<span class="nc" id="L524">                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)</span>
<span class="nc" id="L525">                                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L526">                                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))</span>
<span class="nc" id="L527">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L528">                            .addComponent(btnCargarImg, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L529">                            .addGap(0, 0, Short.MAX_VALUE)))</span>
<span class="nc" id="L530">                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L531">                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L532">                        .addComponent(jButton1)</span>
<span class="nc" id="L533">                        .addComponent(jButton2))</span>
<span class="nc" id="L534">                    .addContainerGap())</span>
            );

<span class="nc" id="L537">            pack();</span>
<span class="nc" id="L538">        }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        //String nickA = tablaArtistas.getValueAt(tablaArtistas.getSelectedRow(), 0).toString();
<span class="nc bnc" id="L542" title="All 2 branches missed.">        if (tablaArtistas.getSelectedRow() == -1) {</span>
<span class="nc" id="L543">            JOptionPane.showMessageDialog(this, &quot;No hay ningun usuario seleccionado&quot;);</span>
<span class="nc" id="L544">            return;</span>
        }
<span class="nc" id="L546">        String nickA = tablaArtistas.getValueAt(tablaArtistas.getSelectedRow(), 0).toString();</span>
        //System.out.println(&quot;nick:&quot;  + nickA);
<span class="nc" id="L548">        String album = txtNombreAlbum.getText();</span>

<span class="nc" id="L550">        String camposVacios = &quot;&quot;;</span>

<span class="nc bnc" id="L552" title="All 2 branches missed.">        if (album.isEmpty()) {</span>
<span class="nc" id="L553">            camposVacios += &quot;Nombre Album \n&quot;;</span>
        }

<span class="nc bnc" id="L556" title="All 2 branches missed.">        if (!camposVacios.isEmpty()) {</span>
<span class="nc" id="L557">            JOptionPane.showMessageDialog(this, &quot;Hay campos obligatorios vacios:\n&quot; + camposVacios);</span>
<span class="nc" id="L558">            return;</span>
        }

<span class="nc bnc" id="L561" title="All 2 branches missed.">        if (comboAnio.getSelectedItem().toString().equals(&quot;----&quot;)) {</span>
<span class="nc" id="L562">            JOptionPane.showMessageDialog(this, &quot;Debe seleccionar un año&quot;);</span>
<span class="nc" id="L563">            return;</span>
        }
<span class="nc" id="L565">        int anio = Integer.parseInt(comboAnio.getSelectedItem().toString());</span>

        try {
<span class="nc" id="L568">            iContenido.selectArtista(nickA);</span>

<span class="nc bnc" id="L570" title="All 2 branches missed.">            if (temas.isEmpty()) {</span>
<span class="nc" id="L571">                throw new UnsupportedOperationException(&quot;Debe de indicar al menos un Tema&quot;);</span>
            }

<span class="nc bnc" id="L574" title="All 2 branches missed.">            if (generos.isEmpty()) {</span>
<span class="nc" id="L575">                throw new UnsupportedOperationException(&quot;Debe de indicar al menos un Genero&quot;);</span>
            }

<span class="nc" id="L578">            setUbicacionTemas();</span>

<span class="nc" id="L580">            iContenido.ingresarAlbum(album, anio, generos, nameImage, temas);</span>

<span class="nc" id="L582">        } catch (UnsupportedOperationException e) {</span>
<span class="nc" id="L583">            JOptionPane.showMessageDialog(this, e.getMessage());</span>
<span class="nc" id="L584">            return;</span>
<span class="nc" id="L585">        }</span>

<span class="nc" id="L587">        JOptionPane.showMessageDialog(this, &quot;Se ingreso Album&quot;);</span>
<span class="nc" id="L588">        txtNick.setText(&quot;&quot;);</span>
<span class="nc" id="L589">        txtNombreAlbum.setText(&quot;&quot;);</span>
<span class="nc" id="L590">        dtm.setRowCount(0);</span>
<span class="nc" id="L591">        DefaultListModel mListGros = (DefaultListModel) jListGros.getModel();</span>
<span class="nc" id="L592">        mListGros.removeAllElements();</span>
<span class="nc" id="L593">        pathImage = null;</span>
<span class="nc" id="L594">        nameImage = null;</span>
<span class="nc" id="L595">        comboAnio.setSelectedIndex(0);</span>
        //imagePanel.repaint();
        //imagePanel.setBackground(Color.GRAY);
<span class="nc" id="L598">        tablaArtistas.clearSelection();</span>
<span class="nc" id="L599">        temas.removeAll(temas);</span>
<span class="nc" id="L600">        generos.removeAll(generos);</span>

<span class="nc" id="L602">        cargarImagen(pm.getProperty(&quot;pathImagenesAlbum&quot;) + &quot;albumDefault.png&quot;);</span>
<span class="nc" id="L603">    }//GEN-LAST:event_jButton1ActionPerformed</span>

    private void jButton2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButton2MouseClicked
<span class="nc" id="L606">        dispose();        // TODO add your handling code here:</span>
<span class="nc" id="L607">    }//GEN-LAST:event_jButton2MouseClicked</span>

    private void jTreeGenerosValueChanged(javax.swing.event.TreeSelectionEvent evt) {//GEN-FIRST:event_jTreeGenerosValueChanged
        // TODO add your handling code here:

<span class="nc" id="L612">    }//GEN-LAST:event_jTreeGenerosValueChanged</span>

    private void jbtnAgregarGroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnAgregarGroActionPerformed
        // TODO add your handling code here:

<span class="nc" id="L617">        DefaultMutableTreeNode selectedElement = (DefaultMutableTreeNode) jTreeGeneros.getSelectionPath().getLastPathComponent();</span>

<span class="nc bnc" id="L619" title="All 2 branches missed.">        if (selectedElement.isRoot()) {</span>
<span class="nc" id="L620">            JOptionPane.showMessageDialog(this, &quot;No puede seleccionar nodo Raiz:\n&quot;);</span>
        } else {
<span class="nc" id="L622">            String generoSeleccionado = selectedElement.getUserObject().toString();</span>
<span class="nc bnc" id="L623" title="All 2 branches missed.">            if (generos.contains(generoSeleccionado)) {</span>
<span class="nc" id="L624">                JOptionPane.showMessageDialog(this, &quot;Ya selecciono ese Genero:\n&quot;);</span>
            } else {
<span class="nc" id="L626">                generos.add(generoSeleccionado);</span>
<span class="nc" id="L627">                model.addElement(generoSeleccionado);</span>
            }

        }

<span class="nc" id="L632">    }//GEN-LAST:event_jbtnAgregarGroActionPerformed</span>

    private void btnQuitarGroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnQuitarGroActionPerformed
        // TODO add your handling code here:

<span class="nc" id="L637">        String pos = jListGros.getSelectedValue();</span>
<span class="nc bnc" id="L638" title="All 2 branches missed.">        if (pos != null) {</span>
<span class="nc" id="L639">            generos.remove(pos);</span>
<span class="nc" id="L640">            model.removeElement(pos);</span>
        } else {
<span class="nc" id="L642">            JOptionPane.showMessageDialog(this, &quot;Debe seleccionar un genero:\n&quot;);</span>
        }

<span class="nc" id="L645">    }//GEN-LAST:event_btnQuitarGroActionPerformed</span>

    private void btnSelecMp3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSelecMp3ActionPerformed

        try {
<span class="nc bnc" id="L650" title="All 2 branches missed.">            if (archivoTema.showOpenDialog(this) == 0) {</span>
<span class="nc" id="L651">                File arch = archivoTema.getSelectedFile();</span>
                //pathMp3 = &quot;src/Recursos/Musica/&quot; + arch.getName();
<span class="nc" id="L653">                pathMp3 = pm.getProperty(&quot;pathMusica&quot;) + arch.getName();</span>
<span class="nc" id="L654">                nameMp3 = arch.getName();</span>
                //System.out.println(&quot;Path: &quot;+ pathMp3);
                //if (arch != null) {
<span class="nc" id="L657">                InputStream is = new FileInputStream(arch);</span>
<span class="nc" id="L658">                OutputStream outstream = new FileOutputStream(new File(pathMp3));</span>
<span class="nc" id="L659">                byte[] buffer = new byte[4096];</span>
                int len;
<span class="nc bnc" id="L661" title="All 2 branches missed.">                while ((len = is.read(buffer)) &gt; 0) {</span>
<span class="nc" id="L662">                    outstream.write(buffer, 0, len);</span>
                }
<span class="nc" id="L664">                outstream.close();</span>
<span class="nc" id="L665">                JOptionPane.showMessageDialog(null, &quot;El archivo se a guardado Exitosamente&quot;, &quot;Información&quot;, JOptionPane.INFORMATION_MESSAGE);</span>

                // }
            }
<span class="nc" id="L669">        } catch (NullPointerException n) {</span>
<span class="nc" id="L670">        } catch (FileNotFoundException ex) {</span>
<span class="nc" id="L671">            JOptionPane.showMessageDialog(null, &quot;El directorio o nombre de archivo incorrecto.&quot;, &quot;Error&quot;, JOptionPane.WARNING_MESSAGE);</span>
<span class="nc" id="L672">        } catch (IOException ex) {</span>
<span class="nc" id="L673">            Logger.getLogger(AltaAlbum.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L674">        }</span>


<span class="nc" id="L677">    }//GEN-LAST:event_btnSelecMp3ActionPerformed</span>

    private void buttonStreamActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonStreamActionPerformed
<span class="nc" id="L680">        mostrarTema();</span>
<span class="nc" id="L681">    }//GEN-LAST:event_buttonStreamActionPerformed</span>

    private void buttonArchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonArchActionPerformed
<span class="nc" id="L684">        mostrarTema();</span>
<span class="nc" id="L685">    }//GEN-LAST:event_buttonArchActionPerformed</span>

    private void btnAgregarTemaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAgregarTemaActionPerformed

<span class="nc" id="L689">        String nomTema = txtNomTema.getText();</span>
<span class="nc" id="L690">        Date time = new Date();</span>
<span class="nc" id="L691">        time = (Date) jSpinnerDuracion.getValue();</span>
<span class="nc" id="L692">        Calendar cal = Calendar.getInstance();</span>
<span class="nc" id="L693">        cal.setTime(time);</span>
<span class="nc" id="L694">        DtTime dtTime = new DtTime(cal.get(Calendar.HOUR), cal.get(Calendar.MINUTE), cal.get(Calendar.SECOND));</span>
        String stream;
        String pathtArch;
        DtTema dtTema;

<span class="nc" id="L699">        String camposVacios = &quot;&quot;;</span>
<span class="nc bnc" id="L700" title="All 2 branches missed.">        if (nomTema.isEmpty()) {</span>
<span class="nc" id="L701">            camposVacios += &quot;Nombre Tema\n&quot;;</span>
        }

<span class="nc bnc" id="L704" title="All 2 branches missed.">        if (!camposVacios.isEmpty()) {</span>
<span class="nc" id="L705">            JOptionPane.showMessageDialog(this, &quot;Hay campos obligatorios vacios:\n&quot; + camposVacios);</span>
<span class="nc" id="L706">            return;</span>
        }

<span class="nc bnc" id="L709" title="All 2 branches missed.">        if (txtStremTema.isEnabled()) {</span>
<span class="nc" id="L710">            stream = txtStremTema.getText();</span>
<span class="nc bnc" id="L711" title="All 2 branches missed.">            if (stream.isEmpty()) {</span>
<span class="nc" id="L712">                JOptionPane.showMessageDialog(this, &quot;Debe indicar la url&quot;);</span>
<span class="nc" id="L713">                return;</span>
            }
<span class="nc bnc" id="L715" title="All 2 branches missed.">            if (exiteNombreTema(nomTema)) {</span>
<span class="nc" id="L716">                JOptionPane.showMessageDialog(this, &quot;Nombre de tema Duplicado&quot;);</span>
<span class="nc" id="L717">                return;</span>
            }
<span class="nc" id="L719">            int ubicacion = tableTemas.getRowCount() + 1;</span>
<span class="nc" id="L720">            dtTema = new DtTemaRemoto(stream, nomTema, dtTime, ubicacion);</span>
<span class="nc" id="L721">            Object[] data = {</span>
                nomTema,
<span class="nc" id="L723">                ubicacion,</span>
<span class="nc" id="L724">                dtTime.getHoras() + &quot;:&quot; + dtTime.getMinutos() + &quot;:&quot; + dtTime.getSegundos(),</span>
                stream,};
<span class="nc" id="L726">            dtm.addRow(data);</span>
            //System.out.println(&quot;Agrego tema&quot; + nomTema);
<span class="nc" id="L728">            temas.add(dtTema);</span>

<span class="nc bnc" id="L730" title="All 2 branches missed.">        } else if (btnSelecMp3.isEnabled()) {</span>

<span class="nc bnc" id="L732" title="All 2 branches missed.">            if (nameMp3 == &quot;&quot;) {</span>
<span class="nc" id="L733">                JOptionPane.showMessageDialog(this, &quot;Debe seleccionar un archivo&quot;);</span>
<span class="nc" id="L734">                return;</span>
            }
<span class="nc bnc" id="L736" title="All 2 branches missed.">            if (exiteNombreTema(nomTema)) {</span>
<span class="nc" id="L737">                JOptionPane.showMessageDialog(this, &quot;Nombre de tema Duplicado&quot;);</span>
<span class="nc" id="L738">                return;</span>
            }
<span class="nc" id="L740">            int ubicacion = tableTemas.getRowCount() + 1;</span>
<span class="nc" id="L741">            dtTema = new DtTemaLocal(nameMp3, nomTema, dtTime, ubicacion);</span>
<span class="nc" id="L742">            Object[] data = {</span>
                nomTema,
<span class="nc" id="L744">                ubicacion,</span>
<span class="nc" id="L745">                dtTime.getHoras() + &quot;:&quot; + dtTime.getMinutos() + &quot;:&quot; + dtTime.getSegundos(),</span>
                nameMp3,};
<span class="nc" id="L747">            dtm.addRow(data);</span>
<span class="nc" id="L748">            System.out.println(&quot;Agrego Tema&quot; + nomTema);</span>
<span class="nc" id="L749">            temas.add(dtTema);</span>
<span class="nc" id="L750">            pathMp3 = &quot;&quot;;</span>
<span class="nc" id="L751">            nameMp3 = &quot;&quot;;</span>

        }

<span class="nc" id="L755">        txtStremTema.setText(&quot;&quot;);</span>
<span class="nc" id="L756">        txtNomTema.setText(&quot;&quot;);</span>

<span class="nc" id="L758">    }//GEN-LAST:event_btnAgregarTemaActionPerformed</span>

    private void txtNickCaretUpdate(javax.swing.event.CaretEvent evt) {//GEN-FIRST:event_txtNickCaretUpdate
        // TODO add your handling code here:
<span class="nc" id="L762">        cargarDatos(datos, txtNick.getText());</span>

<span class="nc" id="L764">    }//GEN-LAST:event_txtNickCaretUpdate</span>

    private void btnCargarImgActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCargarImgActionPerformed
        try {
<span class="nc bnc" id="L768" title="All 2 branches missed.">            if (archivoImg.showOpenDialog(this) == 0) {</span>
<span class="nc" id="L769">                File arch = archivoImg.getSelectedFile();</span>
<span class="nc" id="L770">                nameImage = arch.getName();</span>
<span class="nc" id="L771">                pathImage = pm.getProperty(&quot;pathImagenesAlbum&quot;) + arch.getName();</span>
                //if (arch != null) {
<span class="nc" id="L773">                InputStream is = new FileInputStream(arch);</span>
<span class="nc" id="L774">                OutputStream outstream = new FileOutputStream(new File(pathImage));</span>
<span class="nc" id="L775">                byte[] buffer = new byte[4096];</span>
                int len;
<span class="nc bnc" id="L777" title="All 2 branches missed.">                while ((len = is.read(buffer)) &gt; 0) {</span>
<span class="nc" id="L778">                    outstream.write(buffer, 0, len);</span>
                }
<span class="nc" id="L780">                outstream.close();</span>
                // }
<span class="nc" id="L782">            } else {</span>
<span class="nc" id="L783">                return;</span>
            }

<span class="nc" id="L786">        } catch (NullPointerException n) {</span>
<span class="nc" id="L787">            return;</span>
<span class="nc" id="L788">        } catch (Exception ex) {</span>
<span class="nc" id="L789">            ex.printStackTrace();</span>
<span class="nc" id="L790">            JOptionPane.showMessageDialog(null, &quot;No se pudo cargar la Imagen.&quot;, &quot;Error&quot;, JOptionPane.WARNING_MESSAGE);</span>
<span class="nc" id="L791">        }</span>
<span class="nc" id="L792">        cargarImagen(pathImage);</span>
<span class="nc" id="L793">    }//GEN-LAST:event_btnCargarImgActionPerformed</span>

    private void cargarImagen(String pathImage) {
        try {
            BufferedImage img;
<span class="nc" id="L798">            img = ImageIO.read(new File(pathImage));</span>
<span class="nc" id="L799">            pImg = new PanelImagen(img);</span>
<span class="nc" id="L800">            imagePanel.removeAll();</span>
<span class="nc" id="L801">            imagePanel.add(pImg);</span>
<span class="nc" id="L802">            pImg.setBounds(0, 0, 200, 182);</span>
<span class="nc" id="L803">        } catch (IOException ex) {</span>
<span class="nc" id="L804">            Logger.getLogger(AltaAlbum.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L805">        }</span>
<span class="nc" id="L806">    }</span>
    private void btnEliminarTemaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEliminarTemaActionPerformed

<span class="nc" id="L809">        int fila = tableTemas.getSelectedRow();</span>
<span class="nc" id="L810">        DefaultTableModel model = (DefaultTableModel) tableTemas.getModel();</span>
<span class="nc" id="L811">        System.out.println(&quot;fila&quot; + fila);</span>
<span class="nc bnc" id="L812" title="All 2 branches missed.">        if (fila &gt;= 0) {</span>
<span class="nc" id="L813">            String nombre = tableTemas.getValueAt(fila, 0).toString();</span>
<span class="nc bnc" id="L814" title="All 2 branches missed.">            if (!temas.isEmpty()) {</span>

<span class="nc bnc" id="L816" title="All 2 branches missed.">                for (int i = 0; i &lt; temas.size(); i++) {</span>
<span class="nc" id="L817">                    DtTema dtT = (DtTema) temas.get(i);</span>
<span class="nc bnc" id="L818" title="All 2 branches missed.">                    if (dtT.getNombre().equals(nombre)) {</span>
<span class="nc" id="L819">                        temas.remove(dtT);</span>
                    }
                }
            }

<span class="nc" id="L824">            model.removeRow(fila);</span>

<span class="nc" id="L826">        } else {</span>
<span class="nc" id="L827">            JOptionPane.showMessageDialog(this, &quot;Debe seleccionar un tema&quot;);</span>
<span class="nc" id="L828">            return;</span>

        }

<span class="nc" id="L832">    }//GEN-LAST:event_btnEliminarTemaActionPerformed</span>


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel AlbumTx;
    private javax.swing.JLabel NombreTx;
    private javax.swing.JButton btnAgregarTema;
    private java.awt.Button btnCargarImg;
    private javax.swing.JButton btnEliminarTema;
    private javax.swing.JButton btnQuitarGro;
    private javax.swing.JButton btnSelecMp3;
    private javax.swing.ButtonGroup btonGroupTema;
    private javax.swing.JRadioButton buttonArch;
    private javax.swing.JRadioButton buttonStream;
    private javax.swing.JComboBox&lt;String&gt; comboAnio;
    private javax.swing.JPanel imagePanel;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JList&lt;String&gt; jListGros;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JSpinner jSpinnerDuracion;
    private javax.swing.JTree jTreeGeneros;
    private javax.swing.JButton jbtnAgregarGro;
    private javax.swing.JTable tablaArtistas;
    private javax.swing.JTable tableTemas;
    private javax.swing.JTextField txtNick;
    private javax.swing.JTextField txtNomTema;
    private javax.swing.JTextField txtNombreAlbum;
    private javax.swing.JTextField txtStremTema;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>